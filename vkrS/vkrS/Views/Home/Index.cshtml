@*@Scripts.Render("~/scripts/jquery-1.7.1.js")*@
@*@Scripts.Render("~/scripts/jquery.unobtrusive-ajax.js")*@
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<form method="post" action="~/Home/Login">
    <label>Логин:</label><br />
    <input type="text" name="login" /><br /><br />
    <label>Пароль:</label><br />
    <input type="text" name="password" /><br /><br />
    <button id="signIn">Войти</button>
</form>
<div id="tableBlock"></div>

@Html.DropDownList("ImageId", ViewBag.Images as SelectList)

<script type="text/javascript">
    $(document).ready(function () {
        GetAllTimeSeries();
    });

    // Получение всех рядов по ajax-запросу
    function GetAllTimeSeries() {
        $("#createBlock").css('display', 'block');
        //$("#editBlock").css('display', 'none');
        $.ajax({
            url: '/TimeSeries/GetTimeSeries',
            type: 'GET',
            dataType: 'json',
            success: function (data) {
                WriteResponse(data);
            },
            error: function (data) {
                alert('error' + data);
            }
        });
    }

    // вывод полученных данных на экран
    function WriteResponse(ts) {
        var strResult = "<table><th>дабл</th><th>путь</th>";
        $.each(ts, function (index, t) {
            strResult += "<tr><td>" + t.IsDouble + "</td><td> " + t.Path + "</td></tr>";
        });
        strResult += "</table>";
        $("#tableBlock").html(strResult);

    }

    // Добавление
    function AddTimeSeries() {
        // получаем значения для добавляемой
        var ts = {
            IsDouble: $('#addName').val(),
            Path: $('#addAuthor').val()
        };

        $.ajax({
            url: '/api/TimeSeries',
            type: 'POST',
            data: JSON.stringify(ts),
            contentType: "application/json;charset=utf-8",
            success: function (data) {
                GetAllBooks();
            },
            error: function (x, y) {
                alert(x + '\n' + y);
            }
        });
    }

</script>